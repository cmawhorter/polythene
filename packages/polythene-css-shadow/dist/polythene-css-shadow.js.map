{"version":3,"file":"polythene-css-shadow.js","sources":["../../polythene-css-classes/shadow.js","../src/layout.js","../src/vars.js","../src/index.js"],"sourcesContent":["\nexport default {\n  component:    \"pe-shadow\",\n\n  // elements\n  bottomShadow: \"pe-shadow__bottom\",\n  topShadow:    \"pe-shadow__top\",\n\n  // states\n  animated:     \"pe-shadow--animated\",\n  depth_n:      \"pe-shadow--depth-\",\n};","// @ts-check\n\nimport { mixin, sel, createLayout } from \"polythene-core-css\";\n\nconst _createShadowForSelector = (which, depth) => (selector, vars) =>\n  sel(selector, {\n    [` .pe-shadow__${which}.pe-shadow--depth-${depth}`]: {\n      boxShadow: vars[`shadow_${which}_depth_${depth}`]\n    }\n  });\n\n/**\n * @param {string} selector \n * @param {object} vars \n * @param {number} depth \n * @param {\"top\"|\"bottom\"} which \n */\nconst _createShadow = (selector, vars, depth, which) =>\n  sel(selector, {\n    [` .pe-shadow__${which}`]: {\n      boxShadow: vars[`shadow_${which}_depth_${depth}`]\n    }\n  });\n\n/**\n * @param {string} selector \n * @param {object} vars \n * @param {number} depth\n * @returns {object}\n */\nconst shadow = (selector, vars, depth) => [\n  _createShadow(selector, vars, depth, \"top\"),\n  _createShadow(selector, vars, depth, \"bottom\")\n];\n\n/**\n * @param {string} selector \n * @param {object} vars \n * @returns {object}\n */\nconst shadow_depth = (selector, vars) =>\n  vars.shadow_depth !== undefined\n    ? shadow(selector, vars, vars.shadow_depth)\n    : null;\n\nexport const sharedVarFns = {\n  shadow_depth\n};\n\nconst varFns = Object.assign({},\n  {\n    general_styles: (selector, vars) => [\n      sel(selector, [\n        mixin.fit(),\n        shadow(selector, vars, 1),\n        {\n          borderRadius: \"inherit\",\n          pointerEvents: \"none\",\n\n          \" .pe-shadow__bottom, .pe-shadow__top\": [\n            mixin.fit(),\n            {\n              borderRadius: \"inherit\"\n            }\n          ],\n        },\n      ])\n    ],\n    transition: (selector, vars) => [\n      sel(selector, {\n        \".pe-shadow--animated\": {\n          \" .pe-shadow__bottom, .pe-shadow__top\": {\n            transition: vars.transition\n          }\n        }\n      })\n    ],\n    shadow_depth\n  },\n  [0, 1, 2, 3, 4, 5].reduce((acc, depth) => (\n    acc[`shadow_top_depth_${depth}`] = _createShadowForSelector(\"top\", depth),\n    acc[`shadow_bottom_depth_${depth}`] = _createShadowForSelector(\"bottom\", depth),\n    acc\n  ), {})\n);\n\nexport default createLayout({ varFns });\n","// @ts-check\n\nimport { vars } from \"polythene-theme\";\n\nexport const sharedVars = {\n  shadow_top_depth_0:      \"none\",\n  shadow_bottom_depth_0:   \"none\",\n\n  shadow_top_depth_1:      \"none\",\n  shadow_bottom_depth_1:   \"0 1px 4px 0 rgba(0, 0, 0, 0.37)\",\n\n  shadow_top_depth_2:      \"0 2px 2px 0 rgba(0, 0, 0, 0.2)\",\n  shadow_bottom_depth_2:   \"0 6px 10px 0 rgba(0, 0, 0, 0.3)\",\n\n  shadow_top_depth_3:      \"0 11px 7px 0 rgba(0, 0, 0, 0.19)\",\n  shadow_bottom_depth_3:   \"0 13px 25px 0 rgba(0, 0, 0, 0.3)\",\n\n  shadow_top_depth_4:      \"0 14px 12px 0 rgba(0, 0, 0, 0.17)\",\n  shadow_bottom_depth_4:   \"0 20px 40px 0 rgba(0, 0, 0, 0.3)\",\n\n  shadow_top_depth_5:      \"0 17px 17px 0 rgba(0, 0, 0, 0.15)\",\n  shadow_bottom_depth_5:   \"0 27px 55px 0 rgba(0, 0, 0, 0.3)\",   \n\n  // theme vars\n  shadow_depth: undefined,\n};\n\nexport default {\n  /**\n   * Generate general styles, not defined by variables\n   */\n  general_styles:          true,\n\n  transition:              `box-shadow ${vars.animation_duration} ease-out`,\n  ...sharedVars\n};\n","// @ts-check\n\nimport classes from \"polythene-css-classes/shadow\";\nimport layout, { sharedVarFns } from \"./layout\";\nimport vars, { sharedVars } from \"./vars\";\nimport { styler } from \"polythene-core-css\";\n\nconst fns = [layout];\nconst selector = `.${classes.component}`;\n\nconst addStyle = styler.createAddStyle(selector, fns, vars);\n\nconst getStyle = styler.createGetStyle(selector, fns, vars);\n\nstyler.addStyle({\n  selectors: [selector],\n  fns,\n  vars\n});\n\nexport {\n  addStyle,\n  getStyle,\n  layout,\n  vars,\n  sharedVars,\n  sharedVarFns,\n};\n"],"names":["component","bottomShadow","topShadow","animated","depth_n","_createShadowForSelector","which","depth","selector","vars","sel","boxShadow","_createShadow","shadow","shadow_depth","undefined","sharedVarFns","varFns","general_styles","mixin","fit","borderRadius","pointerEvents","transition","reduce","acc","createLayout","sharedVars","shadow_top_depth_0","shadow_bottom_depth_0","shadow_top_depth_1","shadow_bottom_depth_1","shadow_top_depth_2","shadow_bottom_depth_2","shadow_top_depth_3","shadow_bottom_depth_3","shadow_top_depth_4","shadow_bottom_depth_4","shadow_top_depth_5","shadow_bottom_depth_5","animation_duration","fns","layout","classes","addStyle","styler","createAddStyle","getStyle","createGetStyle","selectors"],"mappings":"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"}