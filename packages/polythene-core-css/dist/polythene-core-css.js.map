{"version":3,"file":"polythene-core-css.js","sources":["../src/mixin-flex.js","../src/mixin.js","../node_modules/j2c-plugin-prefix-browser/dist/j2c-plugin-prefix-browser.commonjs.js","../src/j2c.js","../src/styler.js","../src/helpers.js","../src/layout-styles/flex-classes.js","../src/layout-styles/common-classes.js","../src/layout-styles/index.js","../src/index.js"],"sourcesContent":["// @ts-check\n\n/**\n * @typedef {{[selector:string] : object}} Style\n * @typedef {Array<Style> | Style} Styles\n */\n\n/**\n * @type {Styles} layout\n */\nconst layout = [\n  {\n    \"display\": \"-webkit-box\"\n  },\n  {\n    \"display\": \"-moz-box\"\n  },\n  {\n    \"display\": \"-ms-flexbox\",\n  },\n  {\n    \"display\": \"-webkit-flex\"\n  },\n  {\n    \"display\": \"flex\"\n  }\n];\n\n/**\n * @type {Styles} layoutInline\n */\nconst layoutInline = [\n  layout, {\n    \"display\": \"-ms-inline-flexbox\"\n  }, {\n    \"display\": \"-webkit-inline-flex\"\n  }, {\n    \"display\": \"inline-flex\"\n  }\n];\n\n/**\n * @type {Styles} layoutHorizontal\n */\nconst layoutHorizontal = [\n  layout, {\n    \"-ms-flex-direction\": \"row\",\n    \"-webkit-flex-direction\": \"row\",\n    \"flex-direction\": \"row\"\n  }\n];\n\n/**\n * @type {Styles} layoutHorizontalReverse\n */\nconst layoutHorizontalReverse = [\n  layout, {\n    \"-ms-flex-direction\": \"row-reverse\",\n    \"-webkit-flex-direction\": \"row-reverse\",\n    \"flex-direction\": \"row-reverse\"\n  }\n];\n\n/**\n * @type {Styles} layoutVertical\n */\nconst layoutVertical = [\n  layout, {\n    \"-ms-flex-direction\": \"column\",\n    \"-webkit-flex-direction\": \"column\",\n    \"flex-direction\": \"column\"\n  }\n];\n\n/**\n * @type {Styles} layoutVerticalReverse\n */\nconst layoutVerticalReverse = [\n  layout, {\n    \"-ms-flex-direction\": \"column-reverse\",\n    \"-webkit-flex-direction\": \"column-reverse\",\n    \"flex-direction\": \"column-reverse\"\n  }\n];\n\n/**\n * @type {Styles} layoutWrap\n */\nconst layoutWrap = [\n  layout, {\n    \"-ms-flex-wrap\": \"wrap\",\n    \"-webkit-flex-wrap\": \"wrap\",\n    \"flex-wrap\": \"wrap\"\n  }\n];\n\n/**\n * @type {Styles} layoutWrapReverse\n */\nconst layoutWrapReverse = [\n  layout, {\n    \"-ms-flex-wrap\": \"wrap-reverse\",\n    \"-webkit-flex-wrap\": \"wrap-reverse\",\n    \"flex-wrap\": \"wrap-reverse\"\n  }\n];\n\n/**\n * @type {Styles} layoutStart\n */\nconst layoutStart = [\n  layout, {\n    \"-ms-flex-align\": \"start\",\n    \"-webkit-align-items\": \"flex-start\",\n    \"align-items\": \"flex-start\"\n  }\n];\n\n/**\n * @type {Styles} layoutCenter\n */\nconst layoutCenter = [\n  layout, {\n    \"-ms-flex-align\": \"center\",\n    \"-webkit-align-items\": \"center\",\n    \"align-items\": \"center\"\n  }\n];\n\n/**\n * @type {Styles} layoutEnd\n */\nconst layoutEnd = [\n  layout, {\n    \"-ms-flex-align\": \"end\",\n    \"-webkit-align-items\": \"flex-end\",\n    \"align-items\": \"flex-end\"\n  }\n];\n\n/**\n * @type {Styles} layoutJustified\n */\nconst layoutJustified = [\n  layout, {\n    \"-ms-flex-pack\": \"justify\",\n    \"-webkit-justify-content\": \"space-between\",\n    \"justify-content\": \"space-between\"\n  }\n];\n\n/**\n * @type {Styles} layoutStartJustified\n */\nconst layoutStartJustified = [\n  layout, {\n    \"-ms-flex-pack\": \"start\",\n    \"-webkit-justify-content\": \"flex-start\",\n    \"justify-content\": \"flex-start\"\n  }\n];\n\n/**\n * @type {Styles} layoutCenterJustified\n */\nconst layoutCenterJustified = [\n  layout, {\n    \"-ms-flex-pack\": \"center\",\n    \"-webkit-justify-content\": \"center\",\n    \"justify-content\": \"center\"\n  }\n];\n\n/**\n * @type {Styles} layoutEndJustified\n */\nconst layoutEndJustified = [\n  layout, {\n    \"-ms-flex-pack\": \"end\",\n    \"-webkit-justify-content\": \"flex-end\",\n    \"justify-content\": \"flex-end\"\n  }\n];\n\n/**\n * @type {Styles} layoutCenterCenter\n */\nconst layoutCenterCenter = [\n  layoutCenterJustified,\n  layoutCenter\n];\n\n/**\n * @type {Styles} layoutAroundJustified\n */\nconst layoutAroundJustified = [\n  layout, {\n    \"-ms-flex-pack\": \"distribute\",\n    \"-webkit-justify-content\": \"space-around\",\n    \"justify-content\": \"space-around\"\n  }\n];\n\n/**\n * @param {number} [num=1] \n * @returns {Styles}\n */\nconst flex = (num = 1) => (\n  [{\n    \"-webkit-box-flex\": num\n  }, {\n    \"-moz-box-flex\": num\n  }, {\n    \"-webkit-flex\": num\n  }, {\n    \"-ms-flex\": num\n  }, {\n    \"flex\": num\n  }, num === 1 ? {\n    \"-webkit-flex-basis\": \"0.000000001px\"\n  } : {}, num === 1 ? {\n    \"flex-basis\": \"0.000000001px\"\n  } : {}]\n);\n\n/**\n * @type {Styles} flexAuto\n */\nconst flexAuto = {\n  \"-ms-flex\": \"1 1 auto\",\n  \"-webkit-flex-basis\": \"auto\",\n  \"flex-basis\": \"auto\"\n};\n\n/**\n * @type {Styles} flexAutoVertical\n */\nconst flexAutoVertical = {\n  \"-ms-flex\": \"1 1 auto\",\n  \"-webkit-flex-basis\": \"auto\",\n  \"flex-basis\": \"auto\"\n};\n\n/**\n * \n * @param {number|\"none\"} index \n * @returns {Styles}\n */\nconst flexIndex = index => ({\n  \"-ms-flex\": index,\n  \"-webkit-flex\": index,\n  \"flex\": index\n});\n\n/**\n * \n * @param {number} value \n * @returns {Styles}\n */\nconst flexGrow = value => ({\n  \"-webkit-flex-grow\": value,\n  \"flex-grow\": value\n});\n\n/**\n * \n * @param {number} value \n * @returns {Styles}\n */\nconst flexShrink = value => ({\n  \"-webkit-flex-shrink\": value,\n  \"flex-shrink\": value\n});\n\n/**\n * @type {Styles} selfStart\n */\nconst selfStart = {\n  \"-ms-align-self\": \"flex-start\",\n  \"-webkit-align-self\": \"flex-start\",\n  \"align-self\": \"flex-start\"\n};\n\n/**\n * @type {Styles} selfCenter\n */\nconst selfCenter = {\n  \"-ms-align-self\": \"center\",\n  \"-webkit-align-self\": \"center\",\n  \"align-self\": \"center\"\n};\n\n/**\n * @type {Styles} selfEnd\n */\nconst selfEnd = {\n  \"-ms-align-self\": \"flex-end\",\n  \"-webkit-align-self\": \"flex-end\",\n  \"align-self\": \"flex-end\"\n};\n\n/**\n * @type {Styles} selfStretch\n */\nconst selfStretch = {\n  \"-ms-align-self\": \"stretch\",\n  \"-webkit-align-self\": \"stretch\",\n  \"align-self\": \"stretch\"\n};\n\nexport default {\n  flex,\n  flexAuto,\n  flexAutoVertical,\n  flexIndex,\n  flexGrow,\n  flexShrink,\n  layout,\n  layoutAroundJustified,\n  layoutCenter,\n  layoutCenterCenter,\n  layoutCenterJustified,\n  layoutEnd,\n  layoutEndJustified,\n  layoutHorizontal,\n  layoutHorizontalReverse,\n  layoutInline,\n  layoutJustified,\n  layoutStart,\n  layoutStartJustified,\n  layoutVertical,\n  layoutVerticalReverse,\n  layoutWrap,\n  layoutWrapReverse,\n  selfCenter,\n  selfEnd,\n  selfStart,\n  selfStretch,\n};\n","// @ts-check\n\n/**\n * @typedef {object} StyleObject \n */\n\n/**\n * Centers an item absolutely within relative parent.\n * @param {number} [offset=0] \n * @returns {StyleObject}\n */\nconst fit = (offset = 0) => {\n  const offsetPx = offset + \"px\";\n  return {\n    position: \"absolute\",\n    top: offsetPx,\n    right: offsetPx,\n    bottom: offsetPx,\n    left: offsetPx\n  };\n};\n\n/**\n * Breaks off a line with ... unless lines is \"none\"\n * @param {number|\"none\"} lines \n * @param {number} lineHeight \n * @param {string} [unit=px]\n * @example\n * // max 1 line, 16px high\n * mixin.ellipsis(1, 16)\n * @example \n * // max 2 lines, 2.6em high\n * mixin.ellipsis(2, 1.3, \"em\")\n * @returns {StyleObject} \n */\nconst ellipsis = (lines, lineHeight, unit = \"px\") => {\n  if (lines === \"none\") {\n    return {\n      textOverflow: \"initial\",\n      overflow: \"initial\",\n      display: \"block\",\n      height: \"auto\",\n      maxHeight: \"none\",\n      whiteSpace: \"normal\",\n    };\n  }\n  return [\n    {\n      \"@supports (-webkit-line-clamp: 2)\":\n        lines !== undefined\n          ? {\n            \"-webkit-line-clamp\": lines,\n            \"-webkit-box-orient\": \"vertical\",\n            display: \"-webkit-box\",\n            wordBreak: \"break-word\",\n          }\n          : undefined\n    },\n    {\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      textRendering: \"auto\", // Samsung Android\n      ...(lineHeight !== undefined\n        ? { maxHeight: (lines * lineHeight) + unit }\n        : undefined\n      ),\n      ...(lineHeight === 1\n        ? { wordWrap: \"nowrap\" }\n        : undefined\n      )\n    }\n  ];\n};\n\n/**\n * Clears float.\n * @returns {StyleObject} \n */\nconst clearfix = () => ({\n  \"&:after\": {\n    content: \"\\\"\\\"\",\n    display: \"table\",\n    clear: \"both\"\n  }\n});\n\n/**\n * Creates sticky headers in a scrollable list.\n * Does not work in IE 11, Edge < 16.\n * @param {number} [zIndex=1] \n * @returns {StyleObject} \n */\nconst sticky = (zIndex = 1) => ({\n  position: \"sticky\",\n  top: 0,\n  zIndex: zIndex\n});\n\n/**\n * Creates a transition with presets\n * @param {string} [properties=all]\n * @param {string} [duration=\".18s\"] \n * @param {string} [curve=ease-out] \n * @example\n * mixin.defaultTransition(\"opacity\", vars.animation_duration)\n * @returns {StyleObject} \n */\nconst defaultTransition = (properties = \"all\", duration = \".18s\", curve = \"ease-out\") => ({\n  transitionDelay: \"0ms\",\n  transitionDuration: duration,\n  transitionTimingFunction: curve,\n  transitionProperty: properties\n});\n\nexport default {\n  clearfix,\n  defaultTransition,\n  ellipsis,\n  fit,\n  sticky,\n};\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n// Derived from Lea Verou's PrefixFree\n\nvar allStyles;\nvar styleAttr;\nvar styleElement;\nvar supportedProperty;\nvar supportedDecl;\n\nfunction init() {\n  allStyles = getComputedStyle(document.documentElement, null);\n  styleAttr = document.createElement('div').style;\n  styleElement = document.documentElement.appendChild(document.createElement('style'));\n  supportedDecl = _supportedDecl;\n  supportedProperty = _supportedProperty;\n  if ('zIndex' in styleAttr && !('z-index' in styleAttr)) {\n    // Some browsers like it dash-cased, some camelCased, most like both.\n    supportedDecl = function(property, value) {return _supportedDecl(camelCase(property), value)};\n    supportedProperty = function(property) {return _supportedProperty(camelCase(property))};\n  }\n}\nfunction finalize() {\n  if (typeof document !== 'undefined') document.documentElement.removeChild(styleElement);\n  // `styleAttr` is used at run time via `supportedProperty()`\n  // `allStyles` and `styleElement` can be displosed of after initialization.\n  allStyles = styleElement = null;\n}\n\n\n// Helpers, in alphabetic order\n\nfunction camelCase(str) {\n  return str.replace(/-([a-z])/g, function($0, $1) { return $1.toUpperCase() }).replace('-','')\n}\nfunction deCamelCase(str) {\n  return str.replace(/[A-Z]/g, function($0) { return '-' + $0.toLowerCase() })\n}\nfunction _supportedDecl(property, value) {\n  styleAttr[property] = '';\n  styleAttr[property] = value;\n  return !!styleAttr[property]\n}\nfunction supportedMedia(property, value) {\n  styleElement.textContent = '@media (' + property + ':' + value +'){}';\n  // The !!~indexOf trick. False for -1, true otherwise.\n  return !!~styleElement.sheet.cssRules[0].cssText.indexOf(value)\n}\nfunction _supportedProperty(property) {\n  return property in styleAttr\n}\nfunction supportedRule(selector) {\n  styleElement.textContent = selector + '{}';\n  return !!styleElement.sheet.cssRules.length\n}\n\n// Derived from Lea Verou's PrefixFree\n\n// TODO: http://caniuse.com/#feat=css-media-resolution\n\nfunction detectAtrules(fixers) {\n  if (fixers.prefix === '') return\n  var atrules = {\n    'keyframes': 'name',\n    'viewport': null,\n    'document': 'regexp(\".\")'\n  };\n\n  // build a map of {'@ruleX': '@-prefix-ruleX'}\n  for(var atrule in atrules) {\n    var test = atrule + ' ' + (atrules[atrule] || '');\n    for (var i = fixers.prefixes.length; i--;) {\n      if (!supportedRule('@' + test) && supportedRule('@' + fixers.prefixes[i] + test)) {\n\n        fixers.hasAtrules = true;\n        fixers.atrules['@' + atrule] = '@' + fixers.prefixes[i] + atrule;\n      }\n    }\n  }\n\n  // Standard\n  fixers.hasDppx = supportedMedia('resolution', '1dppx');\n  // Webkit\n  fixers.hasPixelRatio = supportedMedia(fixers.prefix + 'device-pixel-ratio', '1');\n  // Opera\n  fixers.hasPixelRatioFraction = supportedMedia(fixers.prefix + 'device-pixel-ratio', '1/1');\n\n  if (fixers.hasPixelRatio || fixers.hasPixelRatioFraction) {\n    fixers.properties['resolution'] = fixers.prefix + 'device-pixel-ratio';\n    fixers.properties['min-resolution'] = fixers.prefix + 'min-device-pixel-ratio';\n    fixers.properties['max-resolution'] = fixers.prefix + 'max-device-pixel-ratio';\n    if (supportedMedia('min-' + fixers.prefix + 'device-pixel-ratio', '1')) {\n      // Mozilla/Firefox tunred a vendor prefix into a vendor infix\n      fixers.properties['min-resolution'] = 'min-' + fixers.prefix + 'device-pixel-ratio';\n      fixers.properties['max-resolution'] = 'max-' + fixers.prefix + 'device-pixel-ratio';\n    }\n  }\n}\n\n// Derived from Lea Verou's PrefixFree\n\nfunction detectFunctions(fixers) {\n  // Values that might need prefixing\n  if (fixers.prefix === '') return\n  var functions = {\n    'linear-gradient': {\n      property: 'background-image',\n      params: 'red, teal'\n    },\n    'calc': {\n      property: 'width',\n      params: '1px + 5%'\n    },\n    'element': {\n      property: 'background-image',\n      params: '#foo'\n    },\n    'cross-fade': {\n      property: 'backgroundImage',\n      params: 'url(a.png), url(b.png), 50%'\n    }\n  };\n  functions['repeating-linear-gradient'] =\n  functions['repeating-radial-gradient'] =\n  functions['radial-gradient'] =\n  functions['linear-gradient'];\n\n  // build an array of prefixable functions\n  for (var func in functions) {\n    var test = functions[func],\n      property = test.property,\n      value = func + '(' + test.params + ')';\n\n    if (!supportedDecl(property, value) && supportedDecl(property, fixers.prefix + value)) {\n      // It's only supported with a prefix\n      fixers.functions.push(func);\n    }\n  }\n}\n\n// Derived from Lea Verou's PrefixFree and Robin Frischmann's Inline Style Prefixer\n\n// TODO: http://caniuse.com/#feat=css-writing-mode\n\n// db of prop/value pairs whose values may need treatment.\n\nvar keywords = [\n\n  // `initial` applies to all properties and is thus handled separately.\n  {\n    props: ['cursor'],\n    values: [ 'grab', 'grabbing', 'zoom-in', 'zoom-out']\n  },\n  {\n    props: ['display'],\n    values:['box', 'inline-box', 'flexbox', 'inline-flexbox', 'flex', 'inline-flex', 'grid', 'inline-grid']\n  },\n  {\n    props: ['position'],\n    values: [ 'sticky' ]\n  },\n  {\n    props: ['width', 'column-width', 'height', 'max-height', 'max-width', 'min-height', 'min-width'],\n    values: ['contain-floats', 'fill-available', 'fit-content', 'max-content', 'min-content']\n  }\n];\n// The flexbox zoo\n//\n// ## Specs:\n// - box     (2009/old):  https://www.w3.org/TR/2009/WD-css3-flexbox-20090723/\n// - flexbox (2012/ie10): https://www.w3.org/TR/2012/WD-css3-flexbox-20120322/\n// - flex    (final):     https://www.w3.org/TR/css-flexbox-1/\nvar flex2009Props = {\n  // ?align-content =>\n  // ?align-self =>\n  'align-items': 'box-align',\n  'flex': 'box-flex', // https://css-tricks.com/snippets/css/a-guide-to-flexbox/#comment-371025,\n  // ?flex-basis =>\n  // !!flex-direction => box-direction + box-orient, covered in `plugin.js`\n  'box-direction' : 'box-direction', // we prepopulate the cache for the above case.\n  'box-orient': 'box-orient',\n  // !!flex-flow => flex-direction and/or flex-wrap, covered in `plugin.js`\n  'flex-grow': 'box-flex', // https://compat.spec.whatwg.org/#propdef--webkit-box-flex\n  // ?flex-shrink =>\n  'flex-wrap': 'box-lines',\n  'justify-content': 'box-pack',\n  'order': 'box-ordinal-group' // https://css-tricks.com/snippets/css/a-guide-to-flexbox/#comment-371025\n};\nvar flex2009Values = {\n  // flex => box || only for display? handled in the code\n  'flex-end': 'end',\n  'flex-start': 'start',\n  // inline-flex => inline-box || see flex\n  'nowrap': 'single',\n  'space-around': 'justify',\n  'space-between': 'justify',\n  'wrap': 'multiple',\n  'wrap-reverse': 'multiple'\n};\nvar flex2012Props = {\n  'align-content': '-ms-flex-line-pack',\n  'align-items': '-ms-flex-align',\n  'align-self': '-ms-flex-item-align',\n  // flex => -ms-flex\n  'flex-basis': '-ms-preferred-size',\n  // flex-direction => -ms-flex-direction\n  // flex-flow => -ms-flex-flow\n  'flex-grow': '-ms-flex-positive',\n  'flex-shrink': '-ms-flex-negative',\n  // flex-wrap => -ms-flex-wrap\n  'justify-content': '-ms-flex-pack',\n  'order': '-ms-flex-order'\n};\nvar flex2012Values = {\n  // flex => flexbox || only for display? handled in the code\n  'flex-end': 'end',\n  'flex-start': 'start',\n  // inline-flex => inline-flexbox || see 'flex'\n  // nowrap => nowrap\n  'space-around': 'distribute',\n  'space-between': 'justify'\n  // wrap => wrap\n  // wrap-reverse => wrap-reverse\n};\n\nfunction detectKeywords(fixers) {\n  if (fixers.prefixes.length === 0) return\n\n  // build a map of {propertyI: {keywordJ: previxedKeywordJ, ...}, ...}\n  for (var i = 0; i < keywords.length; i++) {\n    var map = {}, property = keywords[i].props[0];\n    // eslint-disable-next-line\n    for (var j = 0, keyword; keyword = keywords[i].values[j]; j++) {\n      for (var k = fixers.prefixes.length; k--;) {\n        if (\n          !supportedDecl(property, keyword) &&\n          supportedDecl(property, fixers.prefixes[k] + keyword)\n        ) {\n          fixers.hasKeywords = true;\n          map[keyword] = fixers.prefixes[k] + keyword;\n        }\n      }\n    }\n    // eslint-disable-next-line\n    for (j = 0; property = keywords[i].props[j]; j++) {\n      fixers.keywords[property] = map;\n    }\n  }\n  if (fixers.keywords.display && fixers.keywords.display.flexbox && !supportedDecl('display', 'flex')) {\n    // IE 10, Flexbox 2012\n    fixers.keywords.display.flex = fixers.keywords.display.flexbox;\n    fixers.keywords.display['inline-flex'] = fixers.keywords.display['inline-flexbox'];\n    fixers.flexbox2012 = true;\n    for (k in flex2012Props) {\n      fixers.properties[k] = flex2012Props[k];\n      fixers.keywords[k] = flex2012Values;\n    }\n  } else if (\n    fixers.keywords.display &&\n    fixers.keywords.display.box &&\n    !supportedDecl('display', 'flex') &&\n    !supportedDecl('display', fixers.prefix + 'flex')\n  ) {\n    // old flexbox spec\n    fixers.keywords.display.flex = fixers.keywords.display.box;\n    fixers.keywords.display['inline-flex'] = fixers.keywords.display['inline-box'];\n    fixers.flexbox2009 = true;\n    for (k in flex2009Props) {\n      fixers.properties[k] = fixers.prefix + flex2009Props[k];\n      fixers.keywords[k] = flex2009Values;\n    }\n  } else if (\n    fixers.keywords.display &&\n    !fixers.keywords.display.box &&\n    !fixers.keywords.display.flex &&\n    !fixers.keywords.display.flexbox &&\n    !supportedDecl('display', 'flex')\n  ) {\n    fixers.jsFlex = true;\n  }\n  if (\n    !supportedDecl('color', 'initial') &&\n    supportedDecl('color', fixers.prefix + 'initial')\n  ) {\n    // `initial` does not use the `hasKeywords` branch, no need to set it to true.\n    fixers.initial = fixers.prefix + 'initial';\n  }\n}\n\n// Derived from Lea Verou's PrefixFree\n\nfunction detectPrefix(fixers) {\n  var prefixCounters = {};\n  // Why are we doing this instead of iterating over properties in a .style object? Because Webkit.\n  // 1. Older Webkit won't iterate over those.\n  // 2. Recent Webkit will, but the 'Webkit'-prefixed properties are not enumerable. The 'webkit'\n  //    (lower case 'w') ones are, but they don't `deCamelCase()` into a prefix that we can detect.\n\n  function iteration(property) {\n    if(property.charAt(0) === '-') {\n      var prefix = property.split('-')[1];\n\n      // Count prefix uses\n      prefixCounters[prefix] = ++prefixCounters[prefix] || 1;\n    }\n  }\n\n  // Some browsers have numerical indices for the properties, some don't\n  if(allStyles && allStyles.length > 0) {\n    for(var i=0; i<allStyles.length; i++) {\n      iteration(allStyles[i]);\n    }\n  } else {\n    for(var property in allStyles) {\n      iteration(deCamelCase(property));\n    }\n  }\n\n  var prefixes = [];\n  for (var p in prefixCounters) prefixes.push(p);\n  prefixes.sort(function(a,b) {return prefixCounters[b] - prefixCounters[a]});\n\n  fixers.prefixes = prefixes.map(function(p){return '-' + p + '-'});\n  fixers.prefix = fixers.prefixes[0] || '';\n  // Edge supports both `webkit` and `ms` prefixes, but `ms` isn't detected with the method above.\n  // the selector comes from http://browserstrangeness.com/css_hacks.html\n  if (supportedRule('_:-ms-lang(x), _:-webkit-full-screen')) fixers.prefixes.push('-ms-');\n  fixers.Prefix = camelCase(fixers.prefix);\n}\n\n// Derived from Lea Verou's PrefixFree\n\nfunction detectSelectors(fixers) {\n  var selector, prefixed;\n  function prefixSelector(selector) {\n    return selector.replace(/^::?/, function($0) { return $0 + fixers.prefix })\n  }\n\n  if (fixers.prefix === '') return\n  var selectors = {\n    ':any-link': null,\n    '::backdrop': null,\n    ':fullscreen': null, //TODO sort out what changed between specs\n    ':full-screen': ':fullscreen',\n    //sigh\n    '::placeholder': null,\n    ':placeholder': '::placeholder',\n    '::input-placeholder': '::placeholder',\n    ':input-placeholder': '::placeholder',\n    ':read-only': null,\n    ':read-write': null,\n    '::selection': null\n  };\n\n  // builds an array of selectors that need a prefix.\n  for (selector in selectors) {\n    prefixed = prefixSelector(selector);\n    if(!supportedRule(selectors[selector] || selector) && supportedRule(prefixed)) {\n      fixers.hasSelectors = true;\n      fixers.selectorList.push(selectors[selector] || selector);\n      fixers.selectorMap[selectors[selector] || selector] = prefixed;\n    }\n  }\n}\n\nfunction detectWebkitCompat(fixers) {\n  if (!supportedDecl('background-clip', 'text') && supportedDecl('-webkit-background-clip', 'text')) fixers.WkBCTxt = true\n  ;['background-clip', 'text-fill-color', 'text-stroke-color', 'text-stroke-width', 'text-stroke'].forEach(function(prop){\n    if(!supportedProperty(prop) && supportedProperty('-webkit-' + prop)) fixers.properties[prop] = '-webkit-' + prop;\n  });\n}\n\nfunction blankFixers() {\n  return {\n    atrules: {},\n    hasAtrules: false,\n    hasDppx: null,\n    hasKeywords: false,\n    hasPixelRatio: false,\n    hasPixelRatioFraction: false,\n    hasSelectors: false,\n    hasValues: false,\n    fixAtMediaParams: null,\n    fixAtSupportsParams: null,\n    fixProperty: null,\n    fixSelector: null,\n    fixValue: null,\n    flexbox2009: false,\n    flexbox2012: false,\n    functions: [],\n    initial: null,\n    jsFlex: false,\n    keywords: {},\n    placeholder: null,\n    prefix: '',\n    prefixes: [],\n    Prefix: '',\n    properties: {},\n    selectorList: [],\n    selectorMap: {},\n    valueProperties: {\n      'transition': 1,\n      'transition-property': 1,\n      'will-change': 1\n    },\n    WkBCTxt: false // -webkit-background-clip: text\n  }\n}\n\n\nfunction browserDetector(fixers) {\n  // add the required data to the fixers object.\n  init();\n  detectPrefix(fixers);\n  detectSelectors(fixers);\n  detectAtrules(fixers);\n  detectKeywords(fixers);\n  detectFunctions(fixers);\n  detectWebkitCompat(fixers);\n  finalize();\n}\n\nvar emptySet = {};\n\nvar valueTokenizer = /[(),]|\\/\\*[\\s\\S]*?\\*\\//g;\n\n/**\n * For properties whose values are also properties, this will split a coma-separated\n * value list into individual values, ignoring comas in comments and in\n * functions(parameter, lists).\n *\n * @param {string} selector\n * @return {string[]}\n */\n\nfunction splitValue(value) {\n  var indices = [], res = [], inParen = 0, o;\n  /*eslint-disable no-cond-assign*/\n  while (o = valueTokenizer.exec(value)) {\n  /*eslint-enable no-cond-assign*/\n    switch (o[0]) {\n    case '(': inParen++; break\n    case ')': inParen--; break\n    case ',': if (inParen) break; indices.push(o.index);\n    }\n  }\n  for (o = indices.length; o--;){\n    res.unshift(value.slice(indices[o] + 1));\n    value = value.slice(0, indices[o]);\n  }\n  res.unshift(value);\n  return res\n}\n\nfunction makeDetector (before, targets, after) {\n  return new RegExp(before + '(?:' + targets.join('|') + ')' + after)\n}\n\nfunction makeLexer (before, targets, after) {\n  return new RegExp(\n        \"\\\"(?:\\\\\\\\[\\\\S\\\\s]|[^\\\"])*\\\"|'(?:\\\\\\\\[\\\\S\\\\s]|[^'])*'|\\\\/\\\\*[\\\\S\\\\s]*?\\\\*\\\\/|\" +\n            before + '((?:' +\n            targets.join('|') +\n            '))' + after,\n        'gi'\n    )\n}\n\n// declarations\n// ------------\n// function trim(s) {\n//   return s.replace(/^\\s*(.*?)\\s*$/, '$1')\n// }\n\nfunction fixDecl(fixers, emit, property, value) {\n  if (typeof property !== 'string' || property.charAt(0) === '-') return emit(property, value)\n\n  if (!(typeof value === 'string' || typeof value === 'number')){\n    return emit(fixers.properties[property] || fixers.fixProperty(property), value)\n  }\n\n  value = value + '';\n  if (fixers.jsFlex) {\n    if (property === 'display' && (value === 'flex' || value === 'inline-flex')) {\n      emit('-js-display', value);\n      return\n    }\n  } else if (fixers.flexbox2009) {\n      // TODO: flex only takes one value in the 2009 spec\n    // if (property === 'flex') {\n    //   value = trim(value)\n    //   if (value === 'none' || value === 'initial') emit(property, '0')\n    //   else if (value === 'auto') emit(property, '1')\n    //   else emit(property, value.replace(/^(\\d+)(?=\\W|$).*/, '$1'))\n    //   return\n    // } else\n    if (property === 'flex-flow') {\n      value.split(/\\s+/).forEach(function(v){\n        // recurse! The lack of `next.` is intentional.\n        if (v.indexOf('wrap') > -1) fixDecl(fixers, emit, 'flex-wrap', v);\n        else if(v !== '') fixDecl(fixers, emit, 'flex-direction', v);\n      });\n      return\n    } else if (property === 'flex-direction') {\n      emit(fixers.properties['box-orient'], value.indexOf('column') > -1 ? 'block-axis' : 'inline-axis');\n      emit(fixers.properties['box-direction'], value.indexOf('-reverse') > -1 ? 'reverse' : 'normal');\n      return\n    }\n  }\n  // else if (fixers.flexbox2012) {\n  //   // if (property === 'flex' && value.indexOf('calc(') !== -1) {\n  //   //   var parsed =\n  //   // }\n  // }\n  if(fixers.WkBCTxt && property === 'background-clip' && value === 'text') {\n    emit('-webkit-background-clip', value);\n  } else {\n    emit(\n      fixers.properties[property] || fixers.fixProperty(property),\n      fixers.fixValue(value, property)\n    );\n  }\n}\n\n\nfunction finalizeFixers(fixers) {\n  var prefix = fixers.prefix;\n\n\n  // properties\n  // ----------\n\n  fixers.fixProperty = fixers.fixProperty || function(prop) {\n    var prefixed;\n    return fixers.properties[prop] = (\n      supportedProperty(prop) ||\n      !supportedProperty(prefixed = prefix + prop)\n    ) ? prop : prefixed\n  };\n\n\n  // selectors\n  // ----------\n\n  var selectorDetector = makeDetector('', fixers.selectorList, '(?:\\\\b|$|[^-])');\n  var selectorMatcher = makeLexer('', fixers.selectorList, '(?:\\\\b|$|[^-])');\n  var selectorReplacer = function(match, selector) {\n    return selector != null ? fixers.selectorMap[selector] : match\n  };\n  fixers.fixSelector = function(selector) {\n    return selectorDetector.test(selector) ? selector.replace(selectorMatcher, selectorReplacer) : selector\n  };\n\n\n  // values\n  // ------\n\n  // When gradients are supported with a prefix, convert angles to legacy\n  // (from clockwise to trigonometric)\n  var hasGradients = fixers.functions.indexOf('linear-gradient') > -1;\n  var gradientDetector = /\\blinear-gradient\\(/;\n  var gradientMatcher = /(^|\\s|,|\\()((?:repeating-)?linear-gradient\\()\\s*(-?\\d*\\.?\\d*)deg/ig;\n  var gradientReplacer = function (match, delim, gradient, deg) {\n    return delim + gradient + (90-deg) + 'deg'\n  };\n\n  // functions\n  var hasFunctions = !!fixers.functions.length;\n  var functionsDetector = makeDetector('(?:^|\\\\s|,|\\\\()', fixers.functions, '\\\\s*\\\\(');\n  var functionsMatcher = makeLexer('(^|\\\\s|,|\\\\()', fixers.functions, '(?=\\\\s*\\\\()');\n  function functionReplacer (match, $1, $2) {\n    return $1 + prefix + $2\n  }\n\n  // properties as values (for transition, ...)\n  // No need to look for strings in these properties. We may insert prefixes in comments. Oh the humanity.\n  var valuePropertiesMatcher = /^\\s*([-\\w]+)/gi;\n  var valuePropertiesReplacer = function(match, prop){\n    return fixers.properties[prop] || fixers.fixProperty(prop)\n  };\n\n  fixers.fixValue = function (value, property) {\n    var res;\n    if (fixers.initial != null && value === 'initial') return fixers.initial\n\n    if (fixers.hasKeywords && (res = (fixers.keywords[property] || emptySet)[value])) return res\n\n    res = value;\n\n    if (fixers.valueProperties.hasOwnProperty(property)) {\n      res = (value.indexOf(',') === -1) ?\n        value.replace(valuePropertiesMatcher, valuePropertiesReplacer) :\n        splitValue(value).map(function(v) {\n          return v.replace(valuePropertiesMatcher, valuePropertiesReplacer)\n        }).join(',');\n    }\n\n    if (hasFunctions && functionsDetector.test(value)) {\n      if (hasGradients && gradientDetector.test(value)) {\n        res = res.replace(gradientMatcher, gradientReplacer);\n      }\n      res = res.replace(functionsMatcher, functionReplacer);\n    }\n    return res\n  };\n\n  // @media (resolution:...) {\n  // -------------------------\n\n  var resolutionMatcher = /((?:min-|max-)?resolution)\\s*:\\s*((?:\\d*\\.)?\\d+)dppx/g;\n  var resolutionReplacer = (\n    fixers.hasPixelRatio ? function(_, prop, param){return fixers.properties[prop] + ':' + param} :\n    fixers.hasPixelRatioFraction ? function(_, prop, param){return fixers.properties[prop] + ':' + Math.round(param*10) + '/10'} :\n    function(_, prop, param){return prop + ':' + Math.round(param * 96) +'dpi'}\n  );\n\n  fixers.fixAtMediaParams = fixers.hasDppx !== false /*it may be null*/ ?\n    function(p) {return p} :\n    function (params) {\n      return (params.indexOf('reso') !== -1) ?\n        params.replace(resolutionMatcher, resolutionReplacer) :\n        params\n    };\n\n\n  // @supports ... {\n  // ---------------\n\n  var supportsProp, supportsValue;\n  var atSupportsParamsFixer = function (property, value) {\n    supportsProp = property;\n    supportsValue = value;\n  };\n  // regexp built by scripts/regexps.js\n  var atSupportsParamsMatcher =  /\\(\\s*([-\\w]+)\\s*:\\s*((?:'(?:\\\\[\\S\\s]|[^'])*'|\"(?:\\\\[\\S\\s]|[^\"])*\"|\\/\\*[\\S\\s]*?\\*\\/|\\((?:'(?:\\\\[\\S\\s]|[^'])*'|\"(?:\\\\[\\S\\s]|[^\"])*\"|\\/\\*[\\S\\s]*?\\*\\/|\\((?:'(?:\\\\[\\S\\s]|[^'])*'|\"(?:\\\\[\\S\\s]|[^\"])*\"|\\/\\*[\\S\\s]*?\\*\\/|\\((?:'(?:\\\\[\\S\\s]|[^'])*'|\"(?:\\\\[\\S\\s]|[^\"])*\"|\\/\\*[\\S\\s]*?\\*\\/|\\((?:'(?:\\\\[\\S\\s]|[^'])*'|\"(?:\\\\[\\S\\s]|[^\"])*\"|\\/\\*[\\S\\s]*?\\*\\/|\\((?:'(?:\\\\[\\S\\s]|[^'])*'|\"(?:\\\\[\\S\\s]|[^\"])*\"|\\/\\*[\\S\\s]*?\\*\\/|\\((?:'(?:\\\\[\\S\\s]|[^'])*'|\"(?:\\\\[\\S\\s]|[^\"])*\"|\\/\\*[\\S\\s]*?\\*\\/|[^\\)])*\\)|[^\\)])*\\)|[^\\)])*\\)|[^\\)])*\\)|[^\\)])*\\)|[^\\)])*\\)|[^\\)])*)/g;\n  function atSupportsParamsReplacer(match, prop, value) {\n    fixDecl(fixers, atSupportsParamsFixer, prop, value);\n    return '(' + supportsProp + ':' + supportsValue\n  }\n  fixers.fixAtSupportsParams = function(params) {\n    return params.replace(atSupportsParamsMatcher, atSupportsParamsReplacer)\n  };\n}\n\nvar commonFixers;\n\nfunction initBrowser() { // exported for the test suite\n  commonFixers = blankFixers();\n  if (typeof getComputedStyle === 'function') browserDetector(commonFixers);\n  finalizeFixers(commonFixers);\n}\ninitBrowser();\n\nfunction prefixPlugin(){\n  var fixers = commonFixers;\n  var cache = [];\n  return {\n    set: {\n      setPrefixDb: function(f) {\n        if (cache.indexOf(f) === -1) {\n          finalizeFixers(f);\n          cache.push(f);\n        }\n        fixers = f;\n        return prefixPlugin\n      }\n    },\n    filter: function(next) {\n      return {\n        atrule: function(rule, kind, params, hasBlock) {\n          next.atrule(\n            fixers.hasAtrules && fixers.atrules[rule] || rule,\n            kind,\n            (\n              rule === '@media'    ? fixers.fixAtMediaParams(params) :\n              rule === '@supports' ? fixers.fixAtSupportsParams(params) :\n              params\n            ),\n            hasBlock\n          );\n        },\n        decl: function(property, value) {\n          fixDecl(fixers, next.decl, property, value);\n        },\n        rule: function(selector) {\n          next.rule(\n            fixers.hasSelectors ? fixers.fixSelector(selector) : selector\n          );\n        }\n      }\n    }\n  }\n}\n\nexports.prefixPlugin = prefixPlugin;\n","// @ts-ignore\n\nimport { prefixPlugin } from \"j2c-plugin-prefix-browser/dist/j2c-plugin-prefix-browser.commonjs\";\nimport J2c from \"j2c\";\n\nexport const j2c = new J2c(prefixPlugin);\n","// @ts-check\n\nimport { j2c } from \"./j2c\";\nimport { isServer } from \"polythene-core\";\n\nconst ID_REGEX = /[^a-z0-9\\\\-]/g;\n\n/**\n * @typedef {object} StyleObject \n * @typedef {(selector: string|Array<string>, vars: object, customVars?: object) => Array<object>} StyleFn\n */\n\n/**\n * Adds styles to head.\n * @param {string} id - Identifier, used as HTMLElement id for the attached <style></style> element.\n * @param {...Array<StyleObject>} styles - List of style Objects\n * @returns {void}\n */\nconst add = (id, ...styles) =>\n  addToDocument({ id }, ...styles);\n\n/**\n * Removes a style from head.\n * @param {string} id - Identifier, used as HTMLElement id for the attached <style></style> element.\n * @returns {void}\n */\nconst remove = id => {\n  if (isServer) return;\n  if (id) {\n    const old = document.getElementById(id);\n    if (old && old.parentNode) {\n      old.parentNode.removeChild(old);\n    }\n  }\n};\n\n/**\n * Adds styles to the head.\n * @param {object} params\n * @param {string} params.id - Identifier, used as HTMLElement id for the attached <style></style> element.\n * @param {object} [params.document] - Document reference.\n * @param {...Array<StyleObject>} styles - List of style Objects.\n * @returns {void}\n */\nconst addToDocument = ({ id, document }, ...styles) => {\n  if (isServer) return;\n  const safeId = id.replace(ID_REGEX, \"_\");\n  remove(safeId);\n  const documentRef = document || window.document;\n  const styleEl = documentRef.createElement(\"style\");\n  if (safeId) {\n    styleEl.setAttribute(\"id\", safeId);\n  }\n  styles.forEach(styles => {\n    // each style returns a list\n    if (Object.keys(styles).length) {\n      styles.forEach(style => {\n        const scoped = {\n          \"@global\": style\n        };\n        const sheet = j2c.sheet(scoped);\n        styleEl.appendChild(documentRef.createTextNode(sheet));\n      });\n    }\n  });\n  documentRef.head.appendChild(styleEl);\n};\n\n/**\n * \n * @param {object} params\n * @param {StyleObject|Array<StyleObject>} params.styles\n * @param {string} [params.scope]\n * @returns {Array<StyleObject>}\n */\nconst wrapInScope = ({ styles, scope }) => \n  scope\n    ? [{ [scope]: styles }]\n    : styles;\n\n/**\n * Adds component styles to head.\n * @param {object} params\n * @param {Array<string>} params.selectors\n * @param {Array<StyleFn>} params.fns\n * @param {object} params.vars\n * @param {object} [params.customVars]\n * @param {string} [params.mediaQuery]\n * @param {string} [params.scope]\n * @returns {void}\n */\nconst addStyle = ({ selectors, fns: styleFns, vars, customVars, mediaQuery, scope }) => {\n  const prefix = scope ? \" \" : \"\";\n  const selector = prefix + selectors.join(\"\");\n  const styles = styleFns.map(fn => fn(selector, vars, customVars)).filter(list => list.length > 0);\n  if (styles.length === 0) {\n    return;\n  }\n  const id = selector.trim().replace(/^[^a-z]?(.*)/, \"$1\");\n  add(id,\n    wrapInScope({\n      styles: wrapInScope({ styles, scope }),\n      scope: mediaQuery\n    })\n  );\n};\n\n/**\n * Returns a list of style objects for a component.\n * @param {object} params\n * @param {Array<string>} params.selectors\n * @param {Array<StyleFn>} params.fns\n * @param {object} params.vars - Style configuration variables\n * @param {object} [params.customVars] - Style configuration variables\n * @param {string} [params.mediaQuery] - Mediaquery string\n * @param {string} [params.scope] - Scope selector\n * @returns {Array<StyleObject>}\n */\nconst getStyle = ({ selectors, fns: styleFns, vars, customVars, mediaQuery, scope }) => {\n  const prefix = scope ? \" \" : \"\";\n  const selector = prefix + selectors.join(\"\");\n  const styles = styleFns.map(fn => fn(selector, vars, customVars));\n  return wrapInScope({\n    styles: wrapInScope({ styles, scope }),\n    scope: mediaQuery\n  });\n};\n\n/**\n * Adds component styles to head.\n * @param {string} selector \n * @param {Array<StyleFn>} fns \n * @param {object} vars - Style configuration variables\n */\nconst createAddStyle = (selector, fns, vars) =>\n  /**\n   * @param {string} [customSelector=\"\"]\n   * @param {object} customVars\n   * @param {object} [scoping={}]\n   * @param {string} [scoping.mediaQuery]\n   * @param {string} [scoping.scope]\n   * @returns {void}\n   */\n  (customSelector=\"\", customVars, { mediaQuery, scope }={}) => \n    addStyle({\n      selectors: [selector, customSelector],\n      fns,\n      vars,\n      customVars,\n      mediaQuery,\n      scope\n    });\n\n/**\n * Returns styles for a component.\n * @param {string} selector \n * @param {Array<StyleFn>} fns \n * @param {object} vars - Style configuration variables\n */\nconst createGetStyle = (selector, fns, vars) =>\n  /**\n   * @param {string} [customSelector=\"\"]\n   * @param {object} customVars\n   * @param {object} [scoping={}]\n   * @param {string} [scoping.mediaQuery]\n   * @param {string} [scoping.scope]\n   * @returns {Array<StyleObject>}\n   */\n  (customSelector=\"\", customVars, { mediaQuery, scope }={}) => \n    [getStyle({\n      selectors: [selector, customSelector],\n      fns,\n      vars,\n      customVars,\n      mediaQuery,\n      scope\n    })];\n\nexport default {\n  add,\n  addStyle,\n  addToDocument,\n  createAddStyle,\n  createGetStyle,\n  getStyle,\n  remove,\n};\n","// @ts-check\n\n/**\n * @typedef {(selector: string, vars: object, customVars?: object) => Array<object>} StyleFn\n * @typedef {{[s: string]: StyleFn}} StyleCollection\n */\n \n\n/**\n * Wraps an object with a selector.\n * @param {string} selector \n * @param {object} o \n * @returns {object}\n */\nexport const sel = (selector, o) => ({\n  [selector]: o\n});\n\n/**\n * Creates a right-to-left selector.\n * @param {string} selector\n * @returns {string}\n */\nexport const selectorRTL = selector => \n  `*[dir=rtl] ${selector}, .pe-rtl ${selector}`;\n\n/**\n * Creates a rgba CSS color string.\n * @param {string} colorStr \n * @param {number} opacity \n * @returns {string}\n */\nexport const rgba = (colorStr, opacity = 1) =>\n  `rgba(${colorStr}, ${opacity})`;\n\n/**\n * @param {object} params\n * @param {string} [params.selector]\n * @param {string} [params.scopedSelector]\n * @param {StyleCollection} [params.varFns]\n * @param {StyleCollection} [params.customVarFns]\n * @param {StyleFn} [params.superStyle]\n * @param {(_:any) => StyleCollection} [params.varMixin]\n * @param {StyleCollection} [params.componentVars]\n * @param {StyleCollection} [params.customVars]\n * @returns {Array<object>}\n */\nconst createStyle = ({ varFns, customVarFns, superStyle, varMixin, selector, scopedSelector, componentVars={}, customVars }) => {\n  const allVars = {...componentVars, ...customVars};\n  const currentVars = customVars\n    ? customVars\n    : allVars;\n  const {\n    general_styles, // eslint-disable-line no-unused-vars\n    ...otherVars\n  } = componentVars;\n  const baseLayout = superStyle !== undefined\n    ? customVars !== undefined\n      ? superStyle(selector, componentVars, customVars)\n      : superStyle(selector, otherVars)\n    : [];\n  const fns = {\n    ...(customVars ? customVarFns : {}),\n    ...varFns\n  };\n  return baseLayout\n    .concat(Object.keys(varMixin(currentVars))\n      .map(v => (\n        fns && fns[v] !== undefined \n          ? fns[v](scopedSelector, allVars)\n          : null\n      ))\n      .filter(s => s)\n    );\n};\n\n/**\n * \n * @param {object} params\n * @param {StyleCollection} [params.varFns]\n * @param {StyleCollection} [params.customVarFns]\n * @param {StyleFn} [params.superLayout]\n * @param {(_:any) => StyleCollection} [params.varMixin]\n * @returns {StyleFn}\n */\nexport const createLayout = ({ varFns, customVarFns, superLayout, varMixin = o => o }) =>\n  /**\n   * @param {string} selector\n   * @param {object} componentVars\n   * @param {object} [customVars]\n   * @returns {Array<object>}\n   */\n  (selector, componentVars, customVars) =>\n    createStyle({ varFns, customVarFns, superStyle: superLayout, varMixin, selector, scopedSelector: selector, componentVars, customVars });\n\n/**\n * \n * @param {object} params\n * @param {string} [params.selector]\n * @param {string} [params.scopedSelector]\n * @param {object} [params.componentVars]\n * @param {object} [params.customVars]  \n * @param {StyleFn} [params.superColor]\n * @param {StyleCollection} [params.varFns]\n * @param {(_:any) => StyleCollection} [params.varMixin]\n * @returns {Array<object>}\n */\nexport const createColorStyle = ({ selector, scopedSelector, componentVars, customVars, varFns, superColor, varMixin }) =>\n  createStyle({ varFns, superStyle: superColor, varMixin, selector, scopedSelector, componentVars, customVars });\n\n/**\n * \n * @param {object} params \n * @param {Array<string>} params.scopes\n * @param {string} params.selector\n * @param {boolean} params.isNoTouch\n* @returns {string}\n */\nconst appendPseudoClass = ({ scopes, selector, isNoTouch }) =>\n  isNoTouch\n    ? scopes.map(s => s + selector + \":hover\").join(\",\")\n    : scopes.map(s => s + selector).join(\",\");\n\n/**\n * \n * @param {object} params \n * @param {Array<string>} params.scopes\n * @param {string} params.selector\n * @param {boolean} [params.isNoTouch]\n * @returns {string}\n */\nconst createScopedSelector = ({ scopes, selector, isNoTouch=false }) =>\n  selector.split(/\\s*,\\s*/).map(s => (\n    appendPseudoClass({ scopes, selector: s, isNoTouch })\n  )).join(\"\");\n\n/**\n * @typedef {object} ColorScopeObject\n * @property {Array<string>} scopes\n * @property {string} varFnName\n * @property {boolean} isNoTouch\n */\n\n/**\n * @type {Array<ColorScopeObject>} colorScopes\n */\nconst colorScopes = [\n  {\n    // has/inside dark tone\n    scopes: [\".pe-dark-tone\", \".pe-dark-tone \"],\n    varFnName: \"darkTintFns\",\n    isNoTouch: false\n  },\n  {\n    // normal, has/inside light tone\n    scopes: [\"\", \".pe-light-tone\", \".pe-light-tone \"],\n    varFnName: \"lightTintFns\",\n    isNoTouch: false\n  },\n  {\n    // has/inside dark tone\n    scopes: [\".pe-no-touch .pe-dark-tone \"],\n    varFnName: \"darkTintHoverFns\",\n    isNoTouch: true\n  },\n  {\n    // normal, has/inside light tone\n    scopes: [\".pe-no-touch \", \".pe-no-touch .pe-light-tone \"],\n    varFnName: \"lightTintHoverFns\",\n    isNoTouch: true\n  },\n];\n\n/**\n * \n * @param {object} params\n * @param {object} [params.varFns]\n * @param {StyleFn} [params.superColor]\n * @param {(_:any) => StyleCollection} [params.varMixin]\n * @returns {StyleFn}\n */\nexport const createColor = ({ varFns={}, superColor, varMixin = o => o }) => \n  /**\n   * @param {string} selector\n   * @param {object} componentVars\n   * @param {object} [customVars]\n   * @returns {Array<object>}\n   */\n  (selector, componentVars, customVars) => (\n    colorScopes.map(({ scopes, varFnName, isNoTouch }) => \n      createColorStyle({\n        selector,\n        scopedSelector: createScopedSelector({\n          scopes,\n          selector,\n          isNoTouch\n        }),\n        componentVars,\n        customVars,\n        varFns: varFns[varFnName],\n        superColor,\n        varMixin\n      })\n    )\n  );\n\n/**\n * @param {object} vars \n * @param {object} behaviorVars\n * @returns {string|undefined} \n */\nconst createMarkerValue = (vars, behaviorVars) => {\n  const marker = Object.keys(behaviorVars)\n    .filter(bvar => vars[bvar] === true)\n    .join(\".\");\n  return marker\n    ? `\"${marker}\"`\n    : undefined;\n};\n\n/**\n * Creates a CSS style from which the key can be read from the `content` property.\n * @param {object} vars \n * @param {object} behaviorVars \n * @returns {object}\n */\nexport const createMarker = (vars, behaviorVars) => {\n  if (!vars) {\n    console.error(\"createMarker requires param `vars`\"); // eslint-disable-line no-console\n  }\n  const value = createMarkerValue(vars, behaviorVars);\n  return value\n    ? ({\n      \":before\": {\n        content: value,\n        display: \"none\",\n      },\n    })\n    : undefined;\n};\n","// @ts-check\n\nimport flex from \"../mixin-flex\";\n\n/**\n * @typedef {{[selector:string] : Style | any}} Style\n */\n \n/**\n * @type {Array<Style>} classes\n */\nconst classes = [{\n  \".layout, .layout.horizontal\": flex.layout,\n  \".layout.horizontal.inline, .layout.vertical.inline\": flex.layoutInline,\n  \".layout.horizontal\": flex.layoutHorizontal,\n  \".layout.horizontal.reverse\": flex.layoutHorizontalReverse,\n  \".layout.vertical\": flex.layoutVertical,\n  \".layout.vertical.reverse\": flex.layoutVerticalReverse,\n  \".layout.wrap\": flex.layoutWrap,\n  \".layout.wrap.reverse\": flex.layoutWrapReverse,\n  \".flex\": flex.flex(1),\n  \".span.flex\": { \"display\": \"block\" }, // for IE 10\n  \".flex.auto-vertical\": flex.flexAutoVertical,\n  \".flex.auto\": flex.flexAuto,\n  \".flex.none\": flex.flexIndex(\"none\"),\n  \".flex.one\": flex.flexIndex(1),\n  \".flex.two\": flex.flexIndex(2),\n  \".flex.three\": flex.flexIndex(3),\n  \".flex.four\": flex.flexIndex(4),\n  \".flex.five\": flex.flexIndex(5),\n  \".flex.six\": flex.flexIndex(6),\n  \".flex.seven\": flex.flexIndex(7),\n  \".flex.eight\": flex.flexIndex(8),\n  \".flex.nine\": flex.flexIndex(9),\n  \".flex.ten\": flex.flexIndex(10),\n  \".flex.eleven\": flex.flexIndex(11),\n  \".flex.twelve\": flex.flexIndex(12),\n\n  // alignment in cross axis\n  \".layout.start\": flex.layoutStart,\n  \".layout.center, .layout.center-center\": flex.layoutCenter,\n  \".layout.end\": flex.layoutEnd,\n\n  // alignment in main axis\n  \".layout.start-justified\": flex.layoutStartJustified,\n  \".layout.center-justified, .layout.center-center\": flex.layoutCenterJustified,\n  \".layout.end-justified\": flex.layoutEndJustified,\n  \".layout.around-justified\": flex.layoutAroundJustified,\n  \".layout.justified\": flex.layoutJustified,\n\n  // self alignment\n  \".self-start\": flex.selfStart,\n  \".self-center\": flex.selfCenter,\n  \".self-end\": flex.selfEnd,\n  \".self-stretch\": flex.selfStretch\n}];\n\nexport default classes;\n","// @ts-check\n\n/**\n * @typedef {{[selector:string] : object}} Style\n * @type {Array<Style>} classes\n */\n\nconst classes = [{\n  \".pe-block\": {\n    display: \"block\"\n  },\n\n  \".pe-inline-block\": {\n    display: \"inline-block\"\n  },\n\n  // ie support for hidden\n  \".pe-hidden\": {\n    display: \"none !important\"\n  },\n\n  \".pe-relative\": {\n    position: \"relative\"\n  },\n\n  \".pe-absolute\": {\n    position: \"absolute\"\n  },\n\n  \".pe-fit\": {\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  },\n  \n  \".pe-fullbleed\": {\n    margin: 0,\n    height: \"100vh\"\n  },\n\n  \".pe-rtl\": {\n    direction: \"rtl\",\n  },\n\n  // flip directional icon if needed\n  \"*[dir=rtl], .pe-rtl \": {\n    \" .pe-rtl--flip\": {\n      transform: \"scaleX(-1)\"\n    }\n  }\n}];\n\nexport default classes;\n","// @ts-check\n\nimport styler from \"../styler\";\nimport flex from \"./flex-classes\";\nimport commonStyle from \"./common-classes\";\n\n/**\n * @typedef {{[selector:string] : object}} Style\n * \n\n/**\n * @type {Array<Style>} layoutStyles\n */\nexport const layoutStyles = [flex, commonStyle];\n\n/**\n * @returns {void}\n */\nexport const addLayoutStyles = () => \n  styler.add(\"pe-layout\", flex, commonStyle);\n","// @ts-check\n\nexport { default as flex } from \"./mixin-flex\";\nexport { default as mixin } from \"./mixin\";\nexport { default as styler } from \"./styler\";\nexport { rgba, sel, selectorRTL, createLayout, createColor, createMarker } from \"./helpers\";\nexport { layoutStyles, addLayoutStyles } from \"./layout-styles\";\n"],"names":["layout","layoutInline","layoutHorizontal","layoutHorizontalReverse","layoutVertical","layoutVerticalReverse","layoutWrap","layoutWrapReverse","layoutStart","layoutCenter","layoutEnd","layoutJustified","layoutStartJustified","layoutCenterJustified","layoutEndJustified","layoutCenterCenter","layoutAroundJustified","flex","num","flexAuto","flexAutoVertical","flexIndex","index","flexGrow","value","flexShrink","selfStart","selfCenter","selfEnd","selfStretch","fit","offset","offsetPx","position","top","right","bottom","left","ellipsis","lines","lineHeight","unit","textOverflow","overflow","display","height","maxHeight","whiteSpace","undefined","wordBreak","textRendering","wordWrap","clearfix","content","clear","sticky","zIndex","defaultTransition","properties","duration","curve","transitionDelay","transitionDuration","transitionTimingFunction","transitionProperty","j2c","J2c","prefixPlugin","ID_REGEX","add","id","styles","addToDocument","remove","isServer","old","document","getElementById","parentNode","removeChild","safeId","replace","documentRef","window","styleEl","createElement","setAttribute","forEach","Object","keys","length","style","scoped","sheet","appendChild","createTextNode","head","wrapInScope","scope","addStyle","selectors","styleFns","fns","vars","customVars","mediaQuery","prefix","selector","join","map","fn","filter","list","trim","getStyle","createAddStyle","customSelector","createGetStyle","sel","o","selectorRTL","rgba","colorStr","opacity","createStyle","varFns","customVarFns","superStyle","varMixin","scopedSelector","componentVars","allVars","currentVars","general_styles","otherVars","baseLayout","concat","v","s","createLayout","superLayout","createColorStyle","superColor","appendPseudoClass","scopes","isNoTouch","createScopedSelector","split","colorScopes","varFnName","createColor","createMarkerValue","behaviorVars","marker","bvar","createMarker","console","error","classes","margin","direction","transform","layoutStyles","commonStyle","addLayoutStyles","styler"],"mappings":"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"}