{"version":3,"file":"polythene-css-base-spinner.js","sources":["../../polythene-css-classes/base-spinner.js","../src/color.js","../src/layout.js","../src/vars.js","../src/index.js"],"sourcesContent":["\nexport default {\n  component:   \"pe-spinner\",\n\n  // elements\n  animation:   \"pe-spinner__animation\",\n  placeholder: \"pe-spinner__placeholder\",\n\n  // states\n  animated:    \"pe-spinner--animated\",\n  fab:         \"pe-spinner--fab\",\n  large:       \"pe-spinner--large\",\n  medium:      \"pe-spinner--medium\",\n  permanent:   \"pe-spinner--permanent\",\n  raised:      \"pe-spinner--raised\",\n  regular:     \"pe-spinner--regular\",\n  singleColor: \"pe-spinner--single-color\",\n  small:       \"pe-spinner--small\",\n  visible:     \"pe-spinner--visible\",\n};\n","// @ts-check\n\nimport { sel, createColor } from \"polythene-core-css\";\n\nconst generalFns = ({\n  general_styles: selector => [], // eslint-disable-line no-unused-vars\n});\n\nconst tintFns = tint => ({\n  [\"color_\" + tint + \"_raised_background\"]: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--raised\": {\n        backgroundColor: vars[\"color_\" + tint + \"_raised_background\"],\n      }\n    })\n  ],\n});\n\nconst lightTintFns = Object.assign({}, generalFns, tintFns(\"light\"));\nconst darkTintFns = Object.assign({}, generalFns, tintFns(\"dark\"));\n\nexport default createColor({\n  varFns: { lightTintFns, darkTintFns }\n});\n","// @ts-check\n\nimport { sel, createLayout } from \"polythene-core-css\";\n\nconst sizes = size => ({\n  width: size + \"px\",\n  height: size + \"px\"\n});\n\nconst raisedSize = size => {\n  const padding = Math.round(size * 0.25); // only use rounded number to prevent sub-pixel alignment issues\n  const paddedSize = size + padding * 2;\n  return {\n    width:   paddedSize + \"px\",\n    height:  paddedSize + \"px\",\n    padding: padding    + \"px\"\n  };\n};\n\nconst varFns = {\n  general_styles: selector => [\n    sel(selector, {\n      transitionProperty: \"all\",\n\n      \".pe-spinner--raised\": {\n        position: \"relative\",\n        borderRadius: \"50%\",\n      }\n    })\n  ],\n  animation_show_css: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--visible, &.pe-spinner--permanent\": [\n        vars.animation_show_css,\n      ],\n    })\n  ],\n  animation_hide_css: (selector, vars) => ({\n    [selector]: vars.animation_hide_css\n  }),\n  animation_delay: (selector, vars) => [\n    sel(selector, {\n      transitionDelay: vars.animation_delay,\n    })\n  ],\n  animation_duration: (selector, vars) => [\n    sel(selector, {\n      transitionDuration: vars.animation_duration,\n    })\n  ],\n  animation_timing_function: (selector, vars) => [\n    sel(selector, {\n      transitionTimingFunction: vars.animation_timing_function,\n    })\n  ],\n  size_small: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--small\": sizes(vars.size_small),\n\n      \".pe-spinner--raised\": {\n        \".pe-spinner--small\": raisedSize(vars.size_small),\n      }\n    })\n  ],\n  size_regular: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--regular\": sizes(vars.size_regular),\n\n      \".pe-spinner--raised\": {\n        \".pe-spinner--regular\": raisedSize(vars.size_regular),\n      }\n    })\n  ],\n  size_medium: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--medium\": sizes(vars.size_medium),\n\n      \".pe-spinner--raised\": {\n        \".pe-spinner--medium\": raisedSize(vars.size_medium),\n      }\n    })\n  ],\n  size_large: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--large\": sizes(vars.size_large),\n\n      \".pe-spinner--raised\": {\n        \".pe-spinner--large\": raisedSize(vars.size_large),\n      }\n    })\n  ],\n  size_fab: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--fab\": sizes(vars.size_fab),\n\n      \".pe-spinner--raised\": {\n        \".pe-spinner--fab\": raisedSize(vars.size_fab)\n      }\n    })\n  ],\n};\n\nexport default createLayout({ varFns });\n","// @ts-check\n\n/**\n * @typedef {import(\"../index\").BaseSpinnerVars} BaseSpinnerVars\n */\n\nimport { rgba } from \"polythene-core-css\";\nimport { vars } from \"polythene-theme\";\n\n/**\n * @type {BaseSpinnerVars} baseSpinnerVars\n */\nconst baseSpinnerVars = {\n  /**\n   * Generate general styles, not defined by variables\n   */\n  general_styles:                true,\n    \n  animation_delay:               \"0s\",\n  animation_duration:            \".220s\",\n  animation_hide_css:            \"opacity: 0;\",\n  animation_show_css:            \"opacity: 1;\",\n  animation_timing_function:     \"ease-in-out\",\n  size_fab:                      7 * vars.grid_unit_component,\n  size_large:                    6 * vars.grid_unit_component,\n  size_medium:                   5 * vars.grid_unit_component,\n  size_regular:                  4 * vars.grid_unit_component,\n  size_small:                    3 * vars.grid_unit_component,\n\n  color_light_raised_background: rgba(vars.color_light_background),\n  color_dark_raised_background:  rgba(vars.color_light_background) // also use light background with dark tone\n};\n\nexport default baseSpinnerVars;\n","// @ts-check\n\nimport classes from \"polythene-css-classes/base-spinner\";\nimport color from \"./color\";\nimport layout from \"./layout\";\nimport vars from \"./vars\";\nimport { styler } from \"polythene-core-css\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component}`;\n\nconst addStyle = styler.createAddStyle(selector, fns, vars);\n\nconst getStyle = styler.createGetStyle(selector, fns, vars);\n\nstyler.addStyle({\n  selectors: [selector],\n  fns,\n  vars\n});\n\nexport {\n  addStyle,\n  getStyle,\n  color,\n  layout,\n  vars,\n};\n"],"names":["component","animation","placeholder","animated","fab","large","medium","permanent","raised","regular","singleColor","small","visible","generalFns","general_styles","selector","tintFns","tint","vars","sel","backgroundColor","lightTintFns","darkTintFns","createColor","varFns","sizes","size","width","height","raisedSize","padding","Math","round","paddedSize","transitionProperty","position","borderRadius","animation_show_css","animation_hide_css","animation_delay","transitionDelay","animation_duration","transitionDuration","animation_timing_function","transitionTimingFunction","size_small","size_regular","size_medium","size_large","size_fab","createLayout","baseSpinnerVars","grid_unit_component","color_light_raised_background","rgba","color_light_background","color_dark_raised_background","fns","layout","color","classes","addStyle","styler","createAddStyle","getStyle","createGetStyle","selectors"],"mappings":"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"}